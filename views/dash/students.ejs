<%- include ('./modules/header.ejs') %>
<%- include ('./modals/students.ejs') %>


      <div style="margin-left: 280px; padding: 20px;">
        <div id="studentAlert"></div>
        <h4 style="color: #23a7ff;">Alunos</h4>
        <a class="btn btn-pr" style="margin-bottom: 10px; float: right;" data-bs-toggle="modal" data-bs-target="#addStudent"><i class="fa-solid fa-plus"></i> Adicionar</a>
        <div class="container" style="margin-top: 20px;">
            <div class="row">
              <div class="col" style="background-color: #3A4046; border-radius: 5px; padding: 10px;">

                  <table class="table table-striped table-bordered" style="margin-top: 10px;" id="studentTable">
                <thead>
                    <tr>
                      <th scope="col">Aluno</th>
                      <th scope="col">RA</th>
                      <th scope="col">Sala</th>
                      <th scope="col">Ações</th>
                    </tr>
                </thead>
                <tbody>
                  <% alunos.forEach(aluno => { %>
                  <tr>
                    <td><%= aluno.name %></td>
                    <td><%= aluno.ra %></td>
                    <td><%= aluno.sala %></td>
                    <td style="width: 6rem;">
                      <a class="btn btn-pr" data-bs-toggle="modal" onclick="actionStudentModal(`<%= aluno.id %>`, `<%= aluno.name %>`, `<%= aluno.ra %>`, `<%= aluno.sala %>`)" ><i class="fa-solid fa-pen"></i></a>
                      <a style="margin-left: 5px;" class="btn btn-danger"onclick="deleteStudentModal(`<%= aluno.id %>`, `<%= aluno.name %>`)"><i class="fa-solid fa-trash"></i></a>
                    </td>
                  </tr>
                  <% }) %>
                </tbody>
              </table>
              </div>
            </div>
          </div>
      </div>
      <script>
        $(document).ready( function () {
    $('#studentTable').DataTable();
  } );
        
      </script>
      <script src="../js/students.js"></script>

</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</html>